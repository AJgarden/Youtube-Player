/*!
 * youtubePlayer.js v0.1901
 * @copyright 2019 AJgarden
 * ##### Author: Jia #####
 * ##### Update: 2019/01/21 #####
 */
var selectors=new Array,selectorsId=new Array,players=new Array,init=0;$.fn.youtubePlayer=function(e,t){var a=$(this),l=$("body");if(!l.attr("data-youtube-script-loaded")){var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),l.attr("data-youtube-script-loaded","true")}if("object"==typeof e||void 0===e){var n={videoId:null,listType:null,list:null,playlist:null,autoplay:0,allowFullscreen:1,controls:1,color:"red",disableKeyboard:0,loop:0,language:"zh-tw",modestbranding:0,showRelated:1,width:640,ratio:16/9,playsinline:0,startSeconds:0,endSeconds:0,origin:window.location.origin},o={onReady:function(e){return!1},onPlay:function(e){return!1},onPause:function(e){return!1},onBuffering:function(e){return!1},onEnd:function(e){return!1},onCued:function(e,t){return!1},onStateChange:function(e,t){return!1},onQualityChange:function(e,t){return!1},onRateChange:function(e,t){return!1},onError:function(e,t){return!1},onVideoNotFound:function(e){return!1},onVideoPrivate:function(e){return!1},onVideoNotEmbed:function(e){return!1}},s=$.extend({},n,e),d=o;null!=e.events&&(d=$.extend({},o,e.events));var y={autoplay:s.autoplay?1:0,cc_lang_pref:s.language,color:s.color,controls:s.controls?1:0,disablekb:s.disableKeyboard?1:0,end:s.endSeconds,fs:s.allowFullscreen?1:0,hl:s.language,listType:s.listType,list:s.list,loop:s.loop?1:0,modestbranding:s.modestbranding?1:0,origin:s.origin,playlist:s.playlist,playsinline:s.playsinline?1:0,rel:s.showRelated?1:0,start:s.startSeconds};function u(e){null!=selectors[e].listtype&&(y.listType=selectors[e].listtype),null!=typeof selectors[e].list&&(y.list=selectors[e].list),players[e]=new YT.Player(selectors[e].id,{videoId:void 0!==selectors[e].video?selectors[e].video:s.videoId,width:s.width,height:s.width/s.ratio,playerVars:y,events:{onReady:function(e){$(e.target.a).attr("data-ratio",s.ratio),init++,d.onReady.call(this,$(e.target.a))},onStateChange:function(e){d.onStateChange.call(this,$(e.target.a),e.data);var t=e.data;0==t&&d.onEnd.call(this,$(e.target.a)),1==t&&d.onPlay.call(this,$(e.target.a)),2==t&&d.onPause.call(this,$(e.target.a)),3==t&&d.onBuffering.call(this,$(e.target.a)),5==t&&d.onCued.call(this,$(e.target.a),{videoId:e.target.j.videoData.video_id,playlistId:e.target.j.playlistId,playlistIndex:e.target.j.playlistIndex,playlist:e.target.j.playlist})},onPlaybackQualityChange:function(e){d.onQualityChange.call(this,$(e.target.a),e.data)},onPlaybackRateChange:function(e){d.onRateChange.call(this,$(e.target.a),e.data)},onError:function(e){d.onError.call(this,$(e.target.a),e.data);var t=e.data;2==t&&d.onVideoNotFound.call(this,$(e.target.a)),100==t&&d.onVideoPrivate.call(this,$(e.target.a)),101!=t&&150!=t||d.onVideoNotEmbed.call(this,$(e.target.a))}}})}a.each(function(e,t){var a,l,i,r=$(t),n="youtube-player-"+e;null!=r.attr("data-video")&&""!=r.attr("data-video")&&"undefined"!=r.attr("data-video")&&(a=r.attr("data-video")),null!=r.attr("data-listtype")&&""!=r.attr("data-listtype")&&"undefined"!=r.attr("data-listtype")&&(l=r.attr("data-listtype")),null!=r.attr("data-list")&&""!=r.attr("data-list")&&"undefined"!=r.attr("data-list")&&(i=r.attr("data-list")),r.append('<div id="'+n+'"></div>'),selectors.push({id:n,video:a,listtype:l,list:i}),selectorsId.push(n)}),window.onYouTubePlayerAPIReady=function(){if(void 0!==selectors)for(var e=0;e<selectors.length;e++)u(e)}}else{if("data"==e){var p=new Array;return a.each(function(e,t){p.push(new Array);var a=$(t).find("iframe").attr("id");if(selectorsId.indexOf(a)>-1){var l=selectorsId.indexOf(a);p[e].videoUrl=players[l].getVideoUrl(),p[e].embedCode=players[l].getVideoEmbedCode(),p[e].iframeDOM=players[l].getIframe(),p[e].playlist=players[l].getPlaylist(),p[e].playlistIndex=players[l].getPlaylistIndex(),p[e].status=players[l].getPlayerState(),p[e].currentTime=players[l].getCurrentTime(),p[e].totalTime=players[l].getDuration(),p[e].isMuted=players[l].isMuted(),p[e].volume=players[l].getVolume(),p[e].currentRate=players[l].getPlaybackRate(),p[e].availableRate=players[l].getAvailablePlaybackRates(),p[e].loadedPercentage=players[l].getVideoLoadedFraction(),p[e].currentQuality=players[l].getPlaybackQuality(),p[e].availableQuality=players[l].getAvailableQualityLevels()}}),p}if("destroy"==e){var f=setInterval(c,100);function c(){var e;init==players.length&&(e=t,a.each(function(t,a){var a=$(a).find("iframe"),l=a.attr("id");if(selectorsId.indexOf(l)>-1){var i=selectorsId.indexOf(l);players[i].destroy(),"function"==typeof e&&e.call(this,a)}}),clearInterval(f))}}else if("string"==typeof e){f=setInterval(c,100);function c(){var l,i;init==players.length&&(l=e,i=t,a.each(function(e,t){var a=$(t).find("iframe").attr("id");if(selectorsId.indexOf(a)>-1){var r=selectorsId.indexOf(a);if("play"==l)players[r].playVideo();else if("pause"==l)players[r].pauseVideo();else if("stop"==l)players[r].stopVideo();else if("seek"==l)"number"==typeof i&&players[r].seekTo(i);else if("previous"==l)players[r].previousVideo(i);else if("next"==l)players[r].nextVideo(i);else if("playAt"==l)"number"==typeof i&&players[r].playVideoAt(i);else if("loop"==l)"boolean"==typeof i&&players[r].setLoop(i);else if("shuffle"==l)players[r].setShuffle(i);else if("mute"==l)players[r].mute();else if("unmute"==l)players[r].unMute();else if("volume"==l)"number"==typeof i&&players[r].setVolume(i);else if("width"==l){if("number"==typeof i){var n=$(players[r].a).attr("data-ratio"),o=i/n;players[r].setSize(i,o)}}else if("height"==l){if("number"==typeof i){var n=$(players[r].a).attr("data-ratio"),s=i*n;players[r].setSize(s,i)}}else if("size"==l)"object"==typeof i&&players[r].setSize(i.width,i.height);else if("rate"==l)"number"==typeof i&&players[r].setPlaybackRate(i);else if("cueVideo"==l){if("string"==typeof i)players[r].cueVideoById(i);else if("object"==typeof i&&null!=i.videoId&&""!=i.videoId&&"undefined"!=i.videoId){var d={videoId:null,start:0,end:null},y=$.extend({},d,i);players[r].cueVideoById({videoId:y.videoId,startSeconds:y.start,endSeconds:y.end})}}else if("loadVideo"==l){if("string"==typeof i)players[r].loadVideoById(i);else if("object"==typeof i&&null!=i.videoId&&""!=i.videoId&&"undefined"!=i.videoId){var d={videoId:null,start:0,end:null},y=$.extend({},d,i);players[r].loadVideoById({videoId:y.videoId,startSeconds:y.start,endSeconds:y.end})}}else if("cueUrl"==l){if("string"==typeof i)players[r].cueVideoByUrl(i);else if("object"==typeof i&&null!=i.videoUrl&&""!=i.videoUrl&&"undefined"!=i.videoUrl){var d={videoUrl:null,start:0,end:null},y=$.extend({},d,i);players[r].cueVideoByUrl({mediaContentUrl:y.videoUrl,startSeconds:y.start,endSeconds:y.end})}}else if("loadUrl"==l){if("string"==typeof i)players[r].loadVideoByUrl(i);else if("object"==typeof i&&null!=i.videoUrl&&""!=i.videoUrl&&"undefined"!=i.videoUrl){var d={videoUrl:null,start:0,end:null},y=$.extend({},d,i);players[r].loadVideoByUrl({mediaContentUrl:y.videoUrl,startSeconds:y.start,endSeconds:y.end})}}else if("cueList"==l){if("object"==typeof i&&null!=i.list&&""!=i.list&&"undefined"!=i.list){var d={listType:"playlist",list:null,index:0,start:0},y=$.extend({},d,i);players[r].cuePlaylist({listType:y.listType,list:y.list,index:y.index,startSeconds:y.start})}}else if("loadList"==l&&"object"==typeof i&&null!=i.list&&""!=i.list&&"undefined"!=i.list){var d={listType:"playlist",list:null,index:0,start:0},y=$.extend({},d,i);players[r].loadPlaylist({listType:y.listType,list:y.list,index:y.index,startSeconds:y.start})}}}),clearInterval(f))}}}};
