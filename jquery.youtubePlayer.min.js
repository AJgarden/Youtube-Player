/*!
 * youtubePlayer.js v0.1901
 * @copyright 2019 AJgarden
 * ##### Author: Jia #####
 * ##### Update: 2019/01/21 #####
 */
var selectors=new Array,selectorsId=new Array,players=new Array,init=0;$.fn.youtubePlayer=function(e,t){var a=$(this),l=$("body");if(!l.attr("data-youtube-script-loaded")){var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),l.attr("data-youtube-script-loaded","true")}if("object"==typeof e||void 0===e){var n={videoId:null,listType:null,list:null,playlist:null,autoplay:0,allowFullscreen:1,controls:1,color:"red",disableKeyboard:0,loop:0,language:"zh-tw",modestbranding:0,showRelated:1,width:640,ratio:16/9,playsinline:0,startSeconds:0,endSeconds:0,origin:window.location.origin},o=$.extend({},n,e),s=$.extend({},{onReady:function(e){return!1},onPlay:function(e){return!1},onPause:function(e){return!1},onBuffering:function(e){return!1},onEnd:function(e){return!1},onCued:function(e){return!1},onStateChange:function(e,t){return!1},onQualityChange:function(e,t){return!1},onRateChange:function(e,t){return!1},onError:function(e,t){return!1},onVideoNotFound:function(e){return!1},onVideoPrivate:function(e){return!1},onVideoNotEmbed:function(e){return!1}},e.events),d={autoplay:o.autoplay?1:0,cc_lang_pref:o.language,color:o.color,controls:o.controls?1:0,disablekb:o.disableKeyboard?1:0,end:o.endSeconds,fs:o.allowFullscreen?1:0,hl:o.language,listType:o.listType,list:o.list,loop:o.loop?1:0,modestbranding:o.modestbranding?1:0,origin:o.origin,playlist:o.playlist,playsinline:o.playsinline?1:0,rel:o.showRelated?1:0,start:o.startSeconds};function y(e){null!=selectors[e].listtype&&(d.listType=selectors[e].listtype),null!=typeof selectors[e].list&&(d.list=selectors[e].list),players[e]=new YT.Player(selectors[e].id,{videoId:void 0!==selectors[e].video?selectors[e].video:o.videoId,width:o.width,height:o.width/o.ratio,playerVars:d,events:{onReady:function(e){$(e.target.a).attr("data-ratio",o.ratio),init++,s.onReady.call(this,$(e.target.a))},onStateChange:function(e){s.onStateChange.call(this,$(e.target.a),e.data);var t=e.data;0==t&&s.onEnd.call(this,$(e.target.a)),1==t&&s.onPlay.call(this,$(e.target.a)),2==t&&s.onPause.call(this,$(e.target.a)),3==t&&s.onBuffering.call(this,$(e.target.a)),5==t&&s.onCued.call(this,$(e.target.a))},onPlaybackQualityChange:function(e){s.onQualityChange.call(this,$(e.target.a),e.data)},onPlaybackRateChange:function(e){s.onRateChange.call(this,$(e.target.a),e.data)},onError:function(e){s.onError.call(this,$(e.target.a),e.data);var t=e.data;2==t&&s.onVideoNotFound.call(this,$(e.target.a)),100==t&&s.onVideoPrivate.call(this,$(e.target.a)),101!=t&&150!=t||s.onVideoNotEmbed.call(this,$(e.target.a))}}})}a.each(function(e,t){var a,l,i,r=$(t),n="youtube-player-"+e;null!=r.attr("data-video")&&""!=r.attr("data-video")&&"undefined"!=r.attr("data-video")&&(a=r.attr("data-video")),null!=r.attr("data-listtype")&&""!=r.attr("data-listtype")&&"undefined"!=r.attr("data-listtype")&&(l=r.attr("data-listtype")),null!=r.attr("data-list")&&""!=r.attr("data-list")&&"undefined"!=r.attr("data-list")&&(i=r.attr("data-list")),r.append('<div id="'+n+'"></div>'),selectors.push({id:n,video:a,listtype:l,list:i}),selectorsId.push(n)}),window.onYouTubePlayerAPIReady=function(){if(void 0!==selectors)for(var e=0;e<selectors.length;e++)y(e)}}else{if("data"==e){var u=new Array;return a.each(function(e,t){u.push(new Array);var a=$(t).find("iframe").attr("id");if(selectorsId.indexOf(a)>-1){var l=selectorsId.indexOf(a);u[e].videoUrl=players[l].getVideoUrl(),u[e].embedCode=players[l].getVideoEmbedCode(),u[e].iframeDOM=players[l].getIframe(),u[e].playlist=players[l].getPlaylist(),u[e].playlistIndex=players[l].getPlaylistIndex(),u[e].status=players[l].getPlayerState(),u[e].currentTime=players[l].getCurrentTime(),u[e].totalTime=players[l].getDuration(),u[e].isMuted=players[l].isMuted(),u[e].volume=players[l].getVolume(),u[e].currentRate=players[l].getPlaybackRate(),u[e].availableRate=players[l].getAvailablePlaybackRates(),u[e].loadedPercentage=players[l].getVideoLoadedFraction(),u[e].currentQuality=players[l].getPlaybackQuality(),u[e].availableQuality=players[l].getAvailableQualityLevels()}}),u}if("destroy"==e){var p=setInterval(f,100);function f(){var e;init==players.length&&(e=t,a.each(function(t,a){var a=$(a).find("iframe"),l=a.attr("id");if(selectorsId.indexOf(l)>-1){var i=selectorsId.indexOf(l);players[i].destroy(),"function"==typeof e&&e.call(this,a)}}),clearInterval(p))}}else if("string"==typeof e){p=setInterval(f,100);function f(){var l,i;init==players.length&&(l=e,i=t,a.each(function(e,t){var a=$(t).find("iframe").attr("id");if(selectorsId.indexOf(a)>-1){var r=selectorsId.indexOf(a);if("play"==l)players[r].playVideo();else if("pause"==l)players[r].pauseVideo();else if("stop"==l)players[r].stopVideo();else if("seek"==l)"number"==typeof i&&players[r].seekTo(i);else if("previous"==l)players[r].previousVideo(i);else if("next"==l)players[r].nextVideo(i);else if("playAt"==l)"number"==typeof i&&players[r].playVideoAt(i);else if("loop"==l)"boolean"==typeof i&&players[r].setLoop(i);else if("shuffle"==l)players[r].setShuffle(i);else if("mute"==l)players[r].mute();else if("unmute"==l)players[r].unMute();else if("volume"==l)"number"==typeof i&&players[r].setVolume(i);else if("width"==l){if("number"==typeof i){var n=$(players[r].a).attr("data-ratio"),o=i/n;players[r].setSize(i,o)}}else if("height"==l){if("number"==typeof i){var n=$(players[r].a).attr("data-ratio"),s=i*n;players[r].setSize(s,i)}}else if("size"==l)"object"==typeof i&&players[r].setSize(i.width,i.height);else if("rate"==l)"number"==typeof i&&players[r].setPlaybackRate(i);else if("cueVideo"==l){if("string"==typeof i)players[r].cueVideoById(i);else if("object"==typeof i&&null!=i.videoId&&""!=i.videoId&&"undefined"!=i.videoId){var d={videoId:null,start:0,end:null},y=$.extend({},d,i);players[r].cueVideoById({videoId:y.videoId,startSeconds:y.start,endSeconds:y.end})}}else if("loadVideo"==l){if("string"==typeof i)players[r].loadVideoById(i);else if("object"==typeof i&&null!=i.videoId&&""!=i.videoId&&"undefined"!=i.videoId){var d={videoId:null,start:0,end:null},y=$.extend({},d,i);players[r].loadVideoById({videoId:y.videoId,startSeconds:y.start,endSeconds:y.end})}}else if("cueUrl"==l){if("string"==typeof i)players[r].cueVideoByUrl(i);else if("object"==typeof i&&null!=i.videoUrl&&""!=i.videoUrl&&"undefined"!=i.videoUrl){var d={videoUrl:null,start:0,end:null},y=$.extend({},d,i);players[r].cueVideoByUrl({mediaContentUrl:y.videoUrl,startSeconds:y.start,endSeconds:y.end})}}else if("loadUrl"==l){if("string"==typeof i)players[r].loadVideoByUrl(i);else if("object"==typeof i&&null!=i.videoUrl&&""!=i.videoUrl&&"undefined"!=i.videoUrl){var d={videoUrl:null,start:0,end:null},y=$.extend({},d,i);players[r].loadVideoByUrl({mediaContentUrl:y.videoUrl,startSeconds:y.start,endSeconds:y.end})}}else if("cueList"==l){if("object"==typeof i&&null!=i.list&&""!=i.list&&"undefined"!=i.list){var d={listType:"playlist",list:null,index:0,start:0},y=$.extend({},d,i);players[r].cuePlaylist({listType:y.listType,list:y.list,index:y.index,startSeconds:y.start})}}else if("loadList"==l&&"object"==typeof i&&null!=i.list&&""!=i.list&&"undefined"!=i.list){var d={listType:"playlist",list:null,index:0,start:0},y=$.extend({},d,i);players[r].loadPlaylist({listType:y.listType,list:y.list,index:y.index,startSeconds:y.start})}}}),clearInterval(p))}}}};
